"use strict";(self["webpackChunkshopping"]=self["webpackChunkshopping"]||[]).push([[212],{1212:function(s,e,t){t.r(e),t.d(e,{default:function(){return T}});var a=t(3396),l=t(7139),n=t(9242);const i={class:"container text-center"},r=(0,a._)("h2",{class:"h1"},"Users rGrey",-1),o=(0,a._)("hr",{class:"m-md-3 m-sm-2"},null,-1),c={class:"table table-hover"},d=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Id"),(0,a._)("th",{scope:"col"},"name"),(0,a._)("th",{scope:"col"},"email"),(0,a._)("th",{scope:"col"},"Action")])],-1),u={scope:"row"},h={class:"row"},p={class:"h6 text-uppercase"},w=["disabled","onClick"],m=(0,a._)("i",{class:"fa-solid fa-rotate"},null,-1),f=(0,a.Uk)(),_=(0,a._)("small",null,"Set Admin",-1),y=[m,f,_],g=["disabled","onClick"],b=(0,a._)("i",{class:"fa-solid fa-ban"},null,-1),I=(0,a.Uk)(),k=(0,a._)("small",null,"Delete",-1),v=[b,I,k],A={class:"cls-height-loading justify-content-center align-items-center"};function U(s,e,t,m,f,_){const b=(0,a.up)("loading-progress");return(0,a.wg)(),(0,a.iD)("div",i,[r,o,(0,a._)("div",null,[(0,a._)("table",c,[d,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.users,(s=>((0,a.wg)(),(0,a.iD)("tr",{key:s.id},[(0,a._)("th",u,(0,l.zw)(s.id),1),(0,a._)("th",null,(0,l.zw)(s.first_name+" "+s.last_name),1),(0,a._)("th",null,(0,l.zw)(s.email),1),(0,a._)("td",h,[(0,a.wy)((0,a._)("p",p,"Is Admin",512),[[n.F8,1==s.isAdmin]]),(0,a.wy)((0,a._)("button",{class:"col btn btn-outline-success m-1",disabled:f.IsBusy,onClick:e=>_.TransformUserToAdmin(s.id)},y,8,w),[[n.F8,0==s.isAdmin]]),(0,a.wy)((0,a._)("button",{class:"col btn btn-outline-danger m-1",disabled:f.IsBusy,onClick:e=>_.DeleteUser(s.id)},v,8,g),[[n.F8,0==s.isAdmin]])])])))),128))])])]),(0,a.wy)((0,a._)("div",A,[(0,a.Wm)(b)],512),[[n.F8,f.IsBusy]])])}var C=t(5932),S={components:{LoadingProgress:C.Z},data(){return{IsBusy:!1,users:[]}},methods:{TransformUserToAdmin:async function(s){let e=await Swal.fire({title:"Login Form",html:'<input type="password" id="password" class="swal2-input" placeholder="Password">',confirmButtonText:"Enter Password",focusConfirm:!1,preConfirm:()=>{const s=Swal.getPopup().querySelector("#password").value;return s||Swal.showValidationMessage("Please enter password"),{password:s}}}).then((s=>s.value.password)).catch((()=>null));if(null==e)return;this.IsBusy=!0;let t={id:s,password:e,isAdmin:1};await this.$store.dispatch("SetAdmin",t).then((s=>{this.users.find((e=>e.id==s.data.id)).isAdmin=1,this.$helpers.showToast("Operation has been completed success")})).catch((s=>{this.$helpers.showErrors(s)})).finally((()=>{this.IsBusy=!1})),this.IsBusy=!1},DeleteUser:async function(s){let e=await Swal.fire({title:"Login Form",html:'<input type="password" id="password" class="swal2-input" placeholder="Password">',confirmButtonText:"Enter Password",focusConfirm:!1,preConfirm:()=>{const s=Swal.getPopup().querySelector("#password").value;return s||Swal.showValidationMessage("Please enter password"),{password:s}}}).then((s=>s.value.password)).catch((()=>null));if(null==e)return;this.IsLoaded=!0;let t={id:s,password:e};await this.$store.dispatch("deleteUser",t).then((s=>{this.users.splice(this.users.findIndex((e=>e.id==s)),1),this.$helpers.showToast("Operation has been completed success")})).catch((s=>{this.$helpers.showErrors(s)}))},getUsers:async function(s="1"){await this.$store.dispatch("getUsers").then((s=>{this.users=s,this.IsLoaded=!0})).catch((s=>{this.$helpers.showErrors(s)}))}},created(){this.getUsers()}},B=t(89);const P=(0,B.Z)(S,[["render",U]]);var T=P}}]);
//# sourceMappingURL=212.847fde8d.js.map