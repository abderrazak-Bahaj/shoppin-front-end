"use strict";(self["webpackChunkshopping"]=self["webpackChunkshopping"]||[]).push([[117],{2117:function(t,e,a){a.r(e),a.d(e,{default:function(){return ct}});var s=a(3396);const o={class:"row"},c={class:"col-md-6"},r={class:"col-md-6"};function n(t,e,a,n,i,l){const d=(0,s.up)("add-category"),g=(0,s.up)("edit-category"),u=(0,s.up)("list-category");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",c,[i.isEditAction?((0,s.wg)(),(0,s.j4)(g,{key:1,category:i.category},null,8,["category"])):((0,s.wg)(),(0,s.j4)(d,{key:0}))]),(0,s._)("div",r,[(0,s.Wm)(u)])])}var i=a(65),l=a(9242),d=a(7139);const g={class:"container p-5"},u=(0,s._)("h4",{class:"h3 text-center text-uppercase"},"Add Category",-1),m=(0,s._)("hr",null,null,-1),_={class:"form-floating mt-3 col"},h=(0,s._)("label",{for:"cat_name",class:"cls-margin"},"Name Category",-1),y={key:0},f=["textContent"],p={class:"mb-3"},C=(0,s._)("label",{for:"#file",class:"form-label"},"Image Category ",-1),w={key:0},v=["textContent"];function b(t,e,a,o,c,r){return(0,s.wg)(),(0,s.iD)("div",g,[u,m,(0,s._)("div",_,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>c.data.cat_name=t),class:"form-control cls-txt-input",id:"cat_name",placeholder:"Name Category"},null,512),[[l.nr,c.data.cat_name]]),h,c.errors.cat_name?((0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("span",{class:"text-danger",textContent:(0,d.zw)(c.errors.cat_name[0])},null,8,f)])):(0,s.kq)("",!0)]),(0,s._)("div",p,[C,(0,s._)("input",{type:"file",class:"form-control",id:"file",onChange:e[1]||(e[1]=t=>r.processFile(t))},null,32),c.errors.cat_img?((0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("span",{class:"text-danger",textContent:(0,d.zw)(c.errors.cat_img[0])},null,8,v)])):(0,s.kq)("",!0)]),(0,s._)("button",{class:"btn-lg btn-success",onClick:e[2]||(e[2]=(...t)=>r.addAction&&r.addAction(...t))}," ADD Category")])}var x={data(){return{data:{cat_name:"",cat_img:""},errors:{cat_name:"",cat_img:""}}},methods:{processFile(t){this.data.cat_img=t.target.files[0]},addAction:function(){this.$store.dispatch("addCategory",{cat_img:this.data.cat_img,cat_name:this.data.cat_name}).then((t=>{this.$helpers.showToast("Category has been Added"),this.data={cat_name:"",cat_img:""},this.errors={cat_name:"",cat_img:""}})).catch((t=>{this.errors=t}))}}},k=a(89);const A=(0,k.Z)(x,[["render",b]]);var D=A;const E={class:"container p-5 cls-container-cat"},$=(0,s._)("h4",{class:"h3 text-center text-uppercase"},"Edit Category",-1),q={class:"mb-3"},B=(0,s._)("label",{for:"#txtName",class:"form-label"},"Name Category ",-1),F=(0,s._)("div",{class:"form-text"},null,-1),N={class:"mb-3"},S=(0,s._)("label",{for:"#file",class:"form-label"},"Image Category ",-1),Y=(0,s._)("div",{class:"form-text"},null,-1),Z={class:"row"},z=(0,s.Uk)(" Cancel");function I(t,e,a,o,c,r){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",E,[$,(0,s._)("div",q,[B,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"txtName","onUpdate:modelValue":e[0]||(e[0]=t=>a.category.cat_name=t)},null,512),[[l.nr,a.category.cat_name]]),F]),(0,s._)("div",N,[S,(0,s._)("input",{type:"file",class:"form-control",id:"file",onChange:e[1]||(e[1]=(...t)=>r.processFile&&r.processFile(...t))},null,32),Y]),(0,s._)("div",Z,[(0,s._)("button",{class:"btn-lg btn-success col m-2",onClick:e[2]||(e[2]=(...t)=>r.editAction&&r.editAction(...t))}," Edit Category"),(0,s.Wm)(n,{class:"btn-lg btn-success col m-2 text-center text-decoration-none",to:"/category"},{default:(0,s.w5)((()=>[z])),_:1})])])}var U={props:["category"],data(){return{categoryError:""}},methods:{validation:async function(){return""==this.category.cat_name?(this.categoryError="- category name incorrect",!1):""!=this.category.cat_img||(this.categoryError="- category image incorrect",!1)},editAction:async function(){await this.validation()&&await this.$store.dispatch("updateCategory",this.category).then((t=>{Swal.fire({position:"top-end",icon:"success",title:"Edit category has been success",showConfirmButton:!1,timer:1500}),console.log("response",t)})).catch((t=>{console.log("error",t)}))},processFile(t){this.category.cat_img=t.target.files[0]}}};const W=(0,k.Z)(U,[["render",I]]);var j=W;const L=t=>((0,s.dD)("data-v-9054df5a"),t=t(),(0,s.Cn)(),t),T={class:"overflow-auto cls-height"},V=L((()=>(0,s._)("h4",{class:"h2"}," List Categorais",-1))),H={class:"cls-table-carts"},K=["src"],G={class:"col-6"},J={class:"h3"},M={class:"col-3 cls-left-cart align-items-end row"},O=L((()=>(0,s._)("i",{class:"fa-solid fa-pen-to-square"},null,-1))),P=["onClick"],Q=L((()=>(0,s._)("i",{class:"fa-solid fa-trash"},null,-1))),R=[Q];function X(t,e,a,o,c,r){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",T,[V,(0,s._)("div",H,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.getAllCategorais,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"items row m-3 rounded",key:t.id},[(0,s._)("img",{src:t.cat_img,alt:"",class:"col-3 img-fluid cls-img-cart"},null,8,K),(0,s._)("div",G,[(0,s._)("h4",J,(0,d.zw)(t.cat_name),1)]),(0,s._)("div",M,[(0,s.Wm)(n,{to:`/category?edit=${t.id}`,class:"btn-lg cls-btn-success col text-center"},{default:(0,s.w5)((()=>[O])),_:2},1032,["to"]),(0,s._)("button",{onClick:e=>r.deleteCategory(t.id),class:"btn-lg cls-btn-danger col"},R,8,P)])])))),128))])])}var tt={computed:{...(0,i.Se)(["getAllCategorais"])},methods:{deleteCategory:async function(t){await Swal.fire({title:"Are you sure?",text:"You won't delete ti category!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((e=>{e.isConfirmed&&(this.$store.dispatch("destroyCategory",t),Swal.fire("Deleted!","Your file has been deleted.","success"))}))}}};const et=(0,k.Z)(tt,[["render",X],["__scopeId","data-v-9054df5a"]]);var at=et,st={data(){return{isEditAction:!1,category:""}},components:{ListCategory:at,AddCategory:D,EditCategory:j},computed:{...(0,i.Se)(["findCategory"])},created(){this.$watch((()=>this.$route.params),(()=>{void 0!=this.$route.query?.edit&&(this.category=this.findCategory(this.$route.query.edit),this.isEditAction=!0)}),{immediate:!0})}};const ot=(0,k.Z)(st,[["render",n]]);var ct=ot}}]);
//# sourceMappingURL=117.8a908a51.js.map